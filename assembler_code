.data

	operationPrompt: .asciiz "Choose operation (encryption: 0 decryption: 1) "
	encTextPrompt: .asciiz "Type in the message you want to encrypt(max. 16 characters)"
	decTextPrompt: .asciiz "Type in the message you want to decrypt(max. 16 characters)"
	userInputText: .space 16
	userInputKey: .space 8
	keyPrompt: .asciiz "Type in the key(max. 8 characters)"
	encText: .asciiz "The encrypted message: "
	decText: .asciiz "The decrypted message: "
	ifContinue: .asciiz "\n\n Do you want to continue? Yes: 1 No: 0\n‚Äù
	space: .asciiz " "

.text

	main:
	
	while:
	
		#asks for the operation
		li $v0, 4
		la $a0, operationPrompt
		syscall
	
		#takes the input (0 or 1)
		li $v0, 5
		syscall
	
		#saves the input in the $t0 register
		move $t0, $v0
		
		#checks which operation the user has chosen and continues according to the operation
		beq $t1, 0, encrypt
		beq $t1, 1, decrypt
		
		
		continue:
		
		#asks the user whether to continue
		li $v0, 4
		la $a0, ifContinue
		syscall
		
		#takes the answer
		li $v0, 5
		syscall
		
		#saves the answer in the $t0 register
		move $t0, $v0
		
		#exits or continues the programme
		beq $t0, 0, exit
		beq $t0, 1, while
		

	exit:
		#end of the programme
		li $v0, 10
		syscall
		
	encrypt:
	
		#asks for the message
		li $v0, 4
		la $a0, encTextPrompt
		syscall
		
		#gets the input from the user
		li $v0, 8
		la $a0, userInputText
		li $a1, 16
		syscall
		
		#saves the input in the $t0 register
		move $t0, $a0
		
		#asks for the key
		li $v0, 4
		la $a0, keyPrompt
		syscall
		
		#gets the input from the user
		li $v0, 8
		la $a0, userInputKey
		li $a1, 8
		syscall
		
		#saves the input in the $t1 register
		move $t1, $a0
		
		
		
		addi $t2, $zero, 0
   		addi $t3, $zero, 0
		
	while2:
	
   	
   		bgt $t0, 4, resetCounter
   		bgt $t1, 16, continue
   		
   		lb $a0, userInputKey($t2)
   		move $t4, $a0
   		
   		li $v0, 4
		la $a0, space
		syscall
		
   		
   		li $v0, 11
   		lb $a0, userInputKey($t3)
   		syscall
   		
 		move $t5, $a0
   		
   		
		
   		
   		
		add $t5, $t4, $t5
   		sub $t5, $t5, 194
   		
   		bgt $t5, 25, substract
   		
   	continue2:
   	
   		add $t5, $t5, 97
   		
   		li $v0, 11
   		move $a0, $t5
   		syscall
   		
   		addi $t2, $t2, 1
   		addi $t3, $t3, 1
   		
   		j while2
  	
  

   resetCounter:
   
	li $t0, 0
   	j while2
   	
   substract:
   	sub $t5, $t5, 26
   	
   	j continue2
   	
		

		

		
	decrypt:
	
		#asks for the message	
		li $v0, 4
		la $a0, decTextPrompt
		syscall
		
		#gets the input from the user
		li $v0, 8
		la $a0, userInputText
		li $a1, 16
		syscall
	
		#saves the input in the $t0 register
		move $t0, $a0
		
	
		j exit
	
	
  
